<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <link rel="stylesheet" type="text/css" href="css/stylesheet.css">

        <script src="js/libs/jquery.js"></script>
        <script src="js/libs/handlebars.js"></script>
        <script src="js/libs/underscore.js"></script>
        <script src="js/libs/oauth.js"></script>

        <script src="js/libs/ember.js"></script>
        <script src="js/libs/ember-data.js"></script>

        <script src="js/app/app.js"></script>
        <script src="js/app/prototype_extensions.js"></script>
        <script src="js/app/handlebars_utils.js"></script>

        <script src="js/app/mixins/scrolling_mixin.js"></script>

        <script src="js/app/routes/router.js"></script>
        <script src="js/app/routes/index_route.js"></script>
        <script src="js/app/routes/application_route.js"></script>

        <script src="js/app/data_utils/store.js"></script>
        <script src="js/app/data_utils/stream.js"></script>
        <script src="js/app/data_utils/transforms.js"></script>
        <script src="js/app/data_utils/adapter.js"></script>
        <script src="js/app/data_utils/serializer.js"></script>

        <script src="js/app/models/post_model.js"></script>
        <script src="js/app/models/photo_model.js"></script>
        <script src="js/app/models/quote_model.js"></script>
        <script src="js/app/models/text_model.js"></script>
        <script src="js/app/models/video_model.js"></script>

        <script src="js/app/controllers/index_controller.js"></script>

        <script src="js/app/views/index_view.js"></script>

        <script type="text/x-handlebars" data-template-name="index">
            <button {{action "auth"}}>Auth</button>
            {{#each post in controller}}
                <div class="post">
                    {{#if post.is.photo}}
                        {{partial photoset}}
                    {{/if}}

                    {{#if post.is.quote}}
                        {{partial quote}}
                    {{/if}}

                    {{#if post.is.video}}
                        {{partial video}}
                    {{/if}}

                    {{#if post.is.text}}
                        {{partial text}}
                    {{/if}}
                </div>
            {{/each}}
        </script>

        <script type="text/x-handlebars" data-template-name="_photoset">
            <div {{bind-attr style=post.widthString}}>
                {{#each row in post.sized_rows}}
                    <div>
                        {{#each sub_photo in row.content}}
                            <img {{bind-attr src=sub_photo.url}}
                                {{bind-attr style=row.widthString}}></img>
                            {{caption}}
                        {{/each}}
                    </div>
                {{/each}}
                <p>
                    {{{post.caption}}}
                </p>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="_text">
            <p>
                <h3>{{{post.title}}}</h3>
                {{{post.body}}}
            </p>
        </script>

        <script type="text/x-handlebars" data-template-name="_video">
            {{{post.video.embed_code}}}
            {{{post.caption}}}
        </script>

        <script type="text/x-handlebars" data-template-name="_quote">
            <figure class="quote">
                <blockquote>
                    {{{post.text}}}
                </blockquote>
                <figcaption class="quote-author">
                    {{{post.source}}}
                </figcaption>
            </figure>
        </script>

    </head>
    <body>
    </body>
</html>
